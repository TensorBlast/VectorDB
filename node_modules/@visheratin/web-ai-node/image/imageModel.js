"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.ImageModel = void 0;
const classificationModel_js_1 = require("./classificationModel.js");
const featureExtractionModel_js_1 = require("./featureExtractionModel.js");
const img2imgModel_js_1 = require("./img2imgModel.js");
const models_js_1 = require("./models.js");
const modelType_js_1 = require("./modelType.js");
const objectDetectionModel_js_1 = require("./objectDetectionModel.js");
const samModel_js_1 = require("./samModel.js");
const segmentationModel_js_1 = require("./segmentationModel.js");
class ImageModel {
}
exports.ImageModel = ImageModel;
_a = ImageModel;
ImageModel.create = async (id, proxy = true) => {
    for (const modelMetadata of models_js_1.models) {
        if (modelMetadata.id === id) {
            switch (modelMetadata.type) {
                case modelType_js_1.ModelType.Classification: {
                    const model = new classificationModel_js_1.ClassificationModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
                case modelType_js_1.ModelType.ObjectDetection: {
                    const model = new objectDetectionModel_js_1.ObjectDetectionModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
                case modelType_js_1.ModelType.Segmentation: {
                    const model = new segmentationModel_js_1.SegmentationModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
                case modelType_js_1.ModelType.Img2Img: {
                    const model = new img2imgModel_js_1.Img2ImgModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
                case modelType_js_1.ModelType.FeatureExtraction: {
                    const model = new featureExtractionModel_js_1.FeatureExtractionModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
                case modelType_js_1.ModelType.SegmentAnything: {
                    const model = new samModel_js_1.SegmentAnythingModel(modelMetadata);
                    const elapsed = await model.init(proxy);
                    return {
                        model: model,
                        elapsed: elapsed,
                    };
                }
            }
        }
    }
    throw Error("there is no image model with specified id");
};
//# sourceMappingURL=imageModel.js.map